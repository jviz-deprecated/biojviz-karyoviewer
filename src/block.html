<!--
@license
Copyright (c) 2016 The Jviz Project Authors. All rights reserved.
The Jviz Project is under the MIT License. See https://github.com/jviz/jviz/blob/dev/LICENSE
-->
<script>
  //Block configuration
  biojviz_karyoviewer._block = {};
  biojviz_karyoviewer._block.width = 0; //Block width
  biojviz_karyoviewer._block.height = 0; //Block height
  biojviz_karyoviewer._block.draw = { width: 0, height: 0 }; //Block draw zone
  biojviz_karyoviewer._block.margin = { top: 30, bottom: 30, left: 0, right: 0 }; //Block margins
  biojviz_karyoviewer._block.resized = false; //Block is resized

  //Block default values
  biojviz_karyoviewer._block.default = {};

  //Default values for portrait
  biojviz_karyoviewer._block.default.portrait = {};
  biojviz_karyoviewer._block.default.portrait.draw_width = 15; //Default portrait draw width
  biojviz_karyoviewer._block.default.portrait.draw_height = 70; //Default portrait draw height
  biojviz_karyoviewer._block.default.portrait.margin_top = 30; //Default portrait margin top
  biojviz_karyoviewer._block.default.portrait.margin_bottom = 30; //Default portrait margin bottom

  //Default values for landscape
  biojviz_karyoviewer._block.default.landscape = {};
  biojviz_karyoviewer._block.default.landscape.draw_width = 0; //Default landscape draw width
  biojviz_karyoviewer._block.default.landscape.draw_height = 35; //Default landscape draw height
  biojviz_karyoviewer._block.default.landscape.margin_top = 30; //Default landscape margin top
  biojviz_karyoviewer._block.default.landscape.margin_bottom = 30; //Default landscape margin bottom
  biojviz_karyoviewer._block.default.landscape.margin_left = 50; //Default landscape margin left
  biojviz_karyoviewer._block.default.landscape.margin_right = 50; //Default landscape margin right

  //Resize the block object
  biojviz_karyoviewer._block_resize = function()
  {
    //Get the number of chromosomes
    var num = this._chromosomes.num;

    //Calculate for landscape orientation
    if(this.is_landscape() === true)
    {
      //Get the default values for landscape
      var def = this._block.default.landscape;

      //Set the margins
      this._block.margin = { top: def.margin_top, bottom: def.margin_bottom, left: def.margin_left, right: def.margin_right };

      //Get the block draw width
      this._block.draw.width = this._width - this._block.margin.left - this._block.margin.right;

      //Get the block draw height
      this._block.draw.height = def.draw_height;
    }

    //Calculate for portrait orientation
    else
    {
      //Get the default values for portrait
      var def = this._block.default.portrait;

      //Set the margins
      this._block.margin = { top: def.margin_top, bottom: def.margin_bottom };

      //Set the margin left
      this._block.margin.left = (this._width - def.draw_width * num) / (2 * num);

      //Set the margin right
      this._block.margin.right = (this._width - def.draw_width * num) / (2 * num);

      //Get the block draw width
      this._block.draw.width = def.draw_width;

      //Get the block draw height
      this._block.draw.height = def.draw_height;
    }

    //Get the block width
    this._block.width = this._block.margin.left + this._block.margin.right + this._block.draw.width;

    //Get the block height
    this._block.height = this._block.margin.top + this._block.margin.bottom + this._block.draw.height;

    //Calculate the new canvas height
    //this._height = (this.is_landscape() === true) ? this._block.height * num : this._block.height;

    //Set the canvas height
    //this.height = this._height;

    //Set block resized
    this._block.resized = true;
  };
</script>